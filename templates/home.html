{% include 'header.html' %}
<body>
  <div class="sidebar">
    <h1><span class="gradient-text">Bajao üéµ</span></h1>
    <a href="#" class="nav-link" id="homeLink">üè† Home</a>
    <a href="#" class="nav-link">üìö Library</a>
    <a href="#" class="nav-link">‚ù§Ô∏è Favourites</a>

    <div class="sidebar-section">
      <div class="sidebar-section-header">
        Your Library
        <button class="icon-btn" title="Add to library">
          <i class="fas fa-plus"></i>
        </button>
      </div>
      <p>Create your first playlist</p>
      <p>It's easy, we'll help you</p>
      <button class="sidebar-btn">Create playlist</button>
    </div>

    <div class="sidebar-footer">
      <a href="#" class="nav-link sidebar-footer-link">Legal</a>
      <a href="#" class="nav-link sidebar-footer-link">Safety & Privacy Center</a>
      <a href="#" class="nav-link sidebar-footer-link">Privacy Policy</a>
      <a href="#" class="nav-link sidebar-footer-link">Cookies</a>
      <a href="#" class="nav-link sidebar-footer-link">About Ads</a>
      <a href="#" class="nav-link sidebar-footer-link">Accessibility</a>
      <button class="sidebar-btn sidebar-footer-btn" title="Change language">
        <i class="fas fa-globe"></i> English
      </button>
    </div>
  </div>

  <div class="main">
    <div id="mainContentView">
      <!-- Artist Detail Container -->
      <div class="artist-detail-container" style="display:none;">
        <div class="artist-header">
          <img src="" alt="" class="artist-detail-image" id="artistImage"/>
          <div class="artist-info">
            <h1 id="artistName"></h1>
            <span class="verified-badge" id="artistVerified" style="display:none;">Verified Artist</span>
            <button id="backToArtists" class="sidebar-btn">‚Üê Back to all artists</button>
          </div>
        </div>
        <div class="artist-songs-list" id="artistSongsList"></div>
      </div>

      <!-- Home Section -->
      <div class="home-section" id="homeSection">
        <div class="hero">
          <h2>Welcome to Bajao</h2>
          <p>Feel the beat of Punjab. Stream timeless tracks by your favorite artists:</p>
        </div>

        <div class="search-bar">
          <input type="text" id="searchInput" placeholder="üîç Search songs or artists..."/>
        </div>

        <div class="section-header">
          <div class="section-title">Trending songs</div>
          <a href="#" class="show-all-link">Show all</a>
        </div>
        <div class="songs-container" id="songsContainer">
          {% for song in songs %}
          <div
            class="song-card"
            data-song="{{ song.audio_file.url }}"
            data-title="{{ song.title }}"
            data-artist="{{ song.artist.name }}"
            data-img="{{ song.album_art.url }}"
          >
            <img src="{{ song.album_art.url }}" alt="{{ song.title }}" />
            <div class="song-title">{{ song.title }}</div>
            <div class="artist-name">{{ song.artist.name }}</div>
          </div>
          {% endfor %}
        </div>

        <div class="section-header">
          <div class="section-title">Popular Artists</div>
        </div>
        <div class="popular-artists-container" id="popularArtistsContainer">
          {% for artist in artists %}
          <div class="artist-card" 
               data-artist-id="{{ artist.id }}"
               data-name="{{ artist.name }}"
               data-verified="{{ artist.verified }}"
               data-img="{{ artist.image.url }}">
            <img src="{{ artist.image.url }}" alt="{{ artist.name }}" />
            <div class="artist-name">{{ artist.name }}</div>
            {% if artist.verified %}
            <span class="verified-badge"><i class="fas fa-check-circle"></i> Verified</span>
            {% endif %}
          </div>
          {% endfor %}
        </div>
      </div>
    </div>

    <!-- Custom Player -->
    <div class="custom-player">
      <div class="player-left">
        <img id="player-art" src="" alt="Album Art" />
        <div class="song-info">
          <div class="title" id="current-title">No song playing</div>
          <div class="artist" id="current-artist"></div>
        </div>
      </div>
      <div class="player-center">
        <div class="controls">
          <button id="shuffleBtn" class="control-btn"><i class="fas fa-shuffle"></i></button>
          <button id="prevBtn" class="control-btn"><i class="fas fa-backward-step"></i></button>
          <button class="play-btn control-btn" id="playPauseBtn"><i class="fas fa-play"></i></button>
          <button id="nextBtn" class="control-btn"><i class="fas fa-forward-step"></i></button>
          <button id="repeatBtn" class="control-btn"><i class="fas fa-repeat"></i></button>
        </div>
        <div class="progress-slider-container">
          <span id="currentTime">0:00</span>
          <input type="range" id="progressSlider" min="0" max="100" value="0"/>
          <span id="durationTime">0:00</span>
        </div>
      </div>
      <div class="player-right">
        <div class="volume-slider-container">
          <span id="volumeIcon"><i class="fas fa-volume-high"></i></span>
          <input type="range" id="volumeSlider" min="0" max="100" value="100"/>
        </div>
        <button id="fullscreenBtn" class="control-btn"><i class="fas fa-expand"></i></button>
      </div>
    </div>

    <audio id="audioPlayer"></audio>
    <div id="messageBox" class="message-box"></div>
  </div>

  {% include 'footer.html' %}
</body>
